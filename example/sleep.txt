
sleep_raw(X) :- &mongo_query["smart.basis","{'content.activities.type':'$INPUT', 'content.activities.start_time.timestamp':{$lt:$INPUT}}","content.activities",I,I2](X), I2= 1409122800, I = "sleep".

sleep_array(I,C) :- &mongo_array[X](I,C), sleep_raw(X).

sleep_time(V,V1,V2) :- sleep_array(I,C), 
		       	   &mongo_json[C,"actual_seconds;start_time.timestamp;end_time.timestamp"](K,V,K1,V1,K2,V2).
			
